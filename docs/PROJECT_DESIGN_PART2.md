# AutoPhotoFix - í”„ë¡œì íŠ¸ ì„¤ê³„ (Part 2)

## ê³„ì†...

### **2.7 Google AdSense í†µí•© ì „ëµ**

#### 2.7.1 ê´‘ê³  ë°°ì¹˜ ê³„íš

```
[í˜ì´ì§€ë³„ ê´‘ê³  ë°°ì¹˜]

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Training Page                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ Top Banner - 728x90 / 320x50 ]      â”‚  â† í˜ì´ì§€ ìƒë‹¨
â”‚                                         â”‚
â”‚  [ì´ë¯¸ì§€ ì—…ë¡œë“œ ì„¹ì…˜]                    â”‚
â”‚                                         â”‚
â”‚  [ Sidebar Ad - 300x600 ]  (ë°ìŠ¤í¬í†±)    â”‚  â† ìš°ì¸¡ ì‚¬ì´ë“œë°”
â”‚                                         â”‚
â”‚  [ How It Works ì„¹ì…˜ ]                  â”‚
â”‚                                         â”‚
â”‚  [ Bottom Banner - 728x90 ]             â”‚  â† í˜ì´ì§€ í•˜ë‹¨
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Correction Page                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ Top Banner ]                         â”‚
â”‚                                         â”‚
â”‚  [ì´ë¯¸ì§€ ì—…ë¡œë“œ]                         â”‚
â”‚                                         â”‚
â”‚  [ì²˜ë¦¬ ì¤‘...]                            â”‚
â”‚  â”œâ†’ [ Interstitial Ad ]                 â”‚  â† ì²˜ë¦¬ ëŒ€ê¸° ì‹œ (3ì´ˆ ì´ìƒ)
â”‚                                         â”‚
â”‚  [ê²°ê³¼ í‘œì‹œ]                             â”‚
â”‚  â”œâ†’ [ In-Feed Ad - 336x280 ]            â”‚  â† ê²°ê³¼ í•˜ë‹¨
â”‚                                         â”‚
â”‚  [ë‹¤ìš´ë¡œë“œ ë²„íŠ¼]                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Profiles Page                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ Top Banner ]                         â”‚
â”‚                                         â”‚
â”‚  [í”„ë¡œí•„ ì¹´ë“œ 1]                         â”‚
â”‚  [í”„ë¡œí•„ ì¹´ë“œ 2]                         â”‚
â”‚  [ In-Feed Ad ]                         â”‚  â† 3ê°œë§ˆë‹¤ ì‚½ì…
â”‚  [í”„ë¡œí•„ ì¹´ë“œ 3]                         â”‚
â”‚  [í”„ë¡œí•„ ì¹´ë“œ 4]                         â”‚
â”‚  [ In-Feed Ad ]                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2.7.2 êµ¬í˜„ ì½”ë“œ

```typescript
// frontend/src/components/ads/AdBanner.tsx
import React, { useEffect, useRef } from 'react';

interface AdBannerProps {
  slot: string;
  format?: 'auto' | 'horizontal' | 'vertical' | 'rectangle';
  className?: string;
}

export const AdBanner: React.FC<AdBannerProps> = ({
  slot,
  format = 'auto',
  className = ''
}) => {
  const adRef = useRef<HTMLModElement>(null);

  useEffect(() => {
    try {
      // Google AdSense ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ í™•ì¸
      if (typeof window !== 'undefined') {
        ((window as any).adsbygoogle = (window as any).adsbygoogle || []).push({});
      }
    } catch (err) {
      console.error('AdSense loading error:', err);
    }
  }, []);

  // ê°œë°œ í™˜ê²½ì—ì„œëŠ” í”Œë ˆì´ìŠ¤í™€ë” í‘œì‹œ
  if (process.env.NODE_ENV === 'development') {
    return (
      <div className={`bg-gray-200 border-2 border-dashed border-gray-400 rounded-lg p-4 text-center ${className}`}>
        <p className="text-gray-600 font-mono text-sm">
          [AdSense: {slot}]
        </p>
        <p className="text-xs text-gray-500 mt-1">
          Format: {format}
        </p>
      </div>
    );
  }

  return (
    <div className={className}>
      <ins
        ref={adRef}
        className="adsbygoogle"
        style={{ display: 'block' }}
        data-ad-client={process.env.REACT_APP_ADSENSE_CLIENT}
        data-ad-slot={slot}
        data-ad-format={format}
        data-full-width-responsive="true"
      />
    </div>
  );
};
```

```typescript
// frontend/src/components/ads/AdInterstitial.tsx
import React, { useEffect, useState } from 'react';

interface AdInterstitialProps {
  show: boolean;
  onClose: () => void;
  minDisplayTime?: number; // milliseconds
}

export const AdInterstitial: React.FC<AdInterstitialProps> = ({
  show,
  onClose,
  minDisplayTime = 5000
}) => {
  const [canClose, setCanClose] = useState(false);
  const [countdown, setCountdown] = useState(5);

  useEffect(() => {
    if (show) {
      setCanClose(false);
      setCountdown(Math.ceil(minDisplayTime / 1000));

      // ì¹´ìš´íŠ¸ë‹¤ìš´
      const countdownInterval = setInterval(() => {
        setCountdown(prev => {
          if (prev <= 1) {
            clearInterval(countdownInterval);
            setCanClose(true);
            return 0;
          }
          return prev - 1;
        });
      }, 1000);

      return () => clearInterval(countdownInterval);
    }
  }, [show, minDisplayTime]);

  if (!show) return null;

  return (
    <div className="fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4">
      <div className="bg-white rounded-lg shadow-2xl max-w-2xl w-full relative">
        {/* Close Button */}
        {canClose && (
          <button
            onClick={onClose}
            className="absolute top-4 right-4 w-10 h-10 bg-gray-800 hover:bg-gray-900 text-white rounded-full flex items-center justify-center transition-colors z-10"
            aria-label="Close ad"
          >
            <svg className="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
            </svg>
          </button>
        )}

        {!canClose && (
          <div className="absolute top-4 right-4 w-10 h-10 bg-gray-300 text-gray-600 rounded-full flex items-center justify-center font-bold">
            {countdown}
          </div>
        )}

        {/* Ad Content */}
        <div className="p-8">
          <p className="text-xs text-gray-500 mb-4 text-center">Advertisement</p>

          {process.env.NODE_ENV === 'development' ? (
            <div className="bg-gray-100 border-2 border-dashed border-gray-300 rounded-lg p-16 text-center">
              <p className="text-gray-600 font-mono">
                [Interstitial Ad Placeholder]
              </p>
              <p className="text-xs text-gray-500 mt-2">
                Close in {countdown} seconds
              </p>
            </div>
          ) : (
            <ins
              className="adsbygoogle"
              style={{ display: 'block' }}
              data-ad-client={process.env.REACT_APP_ADSENSE_CLIENT}
              data-ad-slot={process.env.REACT_APP_ADSENSE_INTERSTITIAL_SLOT}
              data-ad-format="auto"
              data-full-width-responsive="true"
            />
          )}
        </div>
      </div>
    </div>
  );
};
```

```html
<!-- frontend/public/index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AutoPhotoFix - AI Photo Correction</title>

  <!-- Google AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-XXXXXXXXXXXXXXXX"
          crossorigin="anonymous"></script>

  <!-- Meta Tags for SEO -->
  <meta name="description" content="Train AI to learn your photo editing style and automatically apply it to any image">
  <meta name="keywords" content="photo editing, AI, automatic correction, image processing">

  <!-- Open Graph -->
  <meta property="og:title" content="AutoPhotoFix - AI Photo Correction">
  <meta property="og:description" content="Train AI to learn your editing style">
  <meta property="og:type" content="website">

  <link rel="icon" href="/favicon.ico">
</head>
<body>
  <div id="root"></div>
  <script type="module" src="/src/main.tsx"></script>
</body>
</html>
```

#### 2.7.3 ê´‘ê³  ì •ì±… ì¤€ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸

```markdown
âœ… **í•„ìˆ˜ ì¤€ìˆ˜ ì‚¬í•­**

1. ì½˜í…ì¸  ì •ì±…
   - [ ] ì„±ì¸ ì½˜í…ì¸  í•„í„°ë§ (ì´ë¯¸ì§€ ì—…ë¡œë“œ ì‹œ AI ê²€ì¦)
   - [ ] ì €ì‘ê¶Œ ì¹¨í•´ ì½˜í…ì¸  ì°¨ë‹¨
   - [ ] í­ë ¥ì /í˜ì˜¤ ì½˜í…ì¸  ê°ì§€ ë° ê±°ë¶€

2. ì‚¬ìš©ì ê²½í—˜
   - [ ] ê´‘ê³ ì™€ ì½˜í…ì¸  ëª…í™•íˆ êµ¬ë¶„ (ìµœì†Œ 150px ê°„ê²©)
   - [ ] ê´‘ê³  í´ë¦­ ê°•ìš” ê¸ˆì§€ (ê¸°ëŠ¥ ì ‘ê·¼ ì°¨ë‹¨ ê¸ˆì§€)
   - [ ] ì‹¤ìˆ˜ í´ë¦­ ìœ ë„ ê¸ˆì§€ (ë²„íŠ¼ ê·¼ì²˜ ê´‘ê³  ë°°ì¹˜ ê¸ˆì§€)
   - [ ] í˜ì´ì§€ë‹¹ ê´‘ê³  ê°œìˆ˜ ì œí•œ (ìµœëŒ€ 3ê°œ)

3. íˆ¬ëª…ì„±
   - [ ] ê°œì¸ì •ë³´ ì²˜ë¦¬ë°©ì¹¨ í˜ì´ì§€ ì‘ì„±
   - [ ] ì¿ í‚¤ ì •ì±… ê³µì§€
   - [ ] ê´‘ê³  í‘œì‹œ ëª…ì‹œ ("Advertisement" ë¼ë²¨)

4. ê¸°ìˆ  ìš”êµ¬ì‚¬í•­
   - [ ] HTTPS ì‚¬ìš©
   - [ ] ëª¨ë°”ì¼ ë°˜ì‘í˜• ê´‘ê³ 
   - [ ] ê´‘ê³  ë¡œë”© ì‹¤íŒ¨ ì‹œ graceful degradation
```

#### 2.7.4 ì˜ˆìƒ ìˆ˜ìµ ë¶„ì„

```
[ê°€ì •]
- ì¼ì¼ ì‚¬ìš©ì: 100ëª… (ì´ˆê¸°) â†’ 300ëª… (3ê°œì›”) â†’ 1,000ëª… (6ê°œì›”)
- í˜ì´ì§€ë·°ë‹¹ ê´‘ê³  ë…¸ì¶œ: 2.5ê°œ
- CTR (Click-Through Rate): 1.5%
- CPC (Cost Per Click): $0.30

[ê³„ì‚°]
ì´ˆê¸° (ì¼ 100ëª…):
  - ì¼ì¼ ê´‘ê³  ë…¸ì¶œ: 100 Ã— 2.5 Ã— 3 (í˜ì´ì§€) = 750 impressions
  - ì¼ì¼ í´ë¦­: 750 Ã— 1.5% = 11.25 clicks
  - ì¼ì¼ ìˆ˜ìµ: 11.25 Ã— $0.30 = $3.38
  - ì›” ìˆ˜ìµ: $3.38 Ã— 30 = $101

3ê°œì›” (ì¼ 300ëª…):
  - ì›” ìˆ˜ìµ: $303

6ê°œì›” (ì¼ 1,000ëª…):
  - ì¼ì¼ ê´‘ê³  ë…¸ì¶œ: 1,000 Ã— 2.5 Ã— 3 = 7,500 impressions
  - ì¼ì¼ í´ë¦­: 112.5 clicks
  - ì¼ì¼ ìˆ˜ìµ: $33.75
  - ì›” ìˆ˜ìµ: $1,012

*ì‹¤ì œ ìˆ˜ìµì€ ë³€ë™ ê°€ëŠ¥. í”„ë¦¬ë¯¸ì—„ êµ¬ë… ëª¨ë¸ ë³‘í–‰ ê¶Œì¥*
```

---

### **2.8 ë°°í¬ ê°€ì´ë“œ**

#### 2.8.1 í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

```bash
# frontend/.env.production
VITE_API_URL=https://api.autophotofix.com
VITE_ADSENSE_CLIENT=ca-pub-XXXXXXXXXXXXXXXX
VITE_ADSENSE_TOP_BANNER_SLOT=1234567890
VITE_ADSENSE_INTERSTITIAL_SLOT=0987654321
VITE_ANALYTICS_ID=G-XXXXXXXXXX
```

```bash
# backend/.env
NODE_ENV=production
PORT=4000

# Database
DATABASE_URL=postgresql://user:password@hostname:5432/autophotofix?schema=public

# Redis
REDIS_URL=redis://default:password@hostname:6379

# OpenAI
OPENAI_API_KEY=sk-proj-...

# Cloudinary
CLOUDINARY_CLOUD_NAME=your-cloud-name
CLOUDINARY_API_KEY=123456789012345
CLOUDINARY_API_SECRET=your-api-secret

# Security
JWT_SECRET=your-super-secret-key-change-this
ALLOWED_ORIGINS=https://autophotofix.com,https://www.autophotofix.com

# Rate Limiting
RATE_LIMIT_WINDOW_MS=3600000
RATE_LIMIT_MAX_REQUESTS=50

# Sentry (Error Tracking)
SENTRY_DSN=https://...@sentry.io/...
```

#### 2.8.2 Vercel ë°°í¬ (Frontend)

```bash
# 1. Vercel CLI ì„¤ì¹˜
npm install -g vercel

# 2. í”„ë¡œì íŠ¸ ë£¨íŠ¸ì—ì„œ ë°°í¬
cd frontend
vercel --prod

# 3. í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (Vercel Dashboardì—ì„œ)
# Settings > Environment Variables
# - VITE_API_URL
# - VITE_ADSENSE_CLIENT
# - ë“±...
```

```json
// frontend/vercel.json
{
  "buildCommand": "npm run build",
  "outputDirectory": "dist",
  "devCommand": "npm run dev",
  "installCommand": "npm install",
  "framework": "vite",
  "rewrites": [
    {
      "source": "/(.*)",
      "destination": "/index.html"
    }
  ],
  "headers": [
    {
      "source": "/assets/(.*)",
      "headers": [
        {
          "key": "Cache-Control",
          "value": "public, max-age=31536000, immutable"
        }
      ]
    }
  ]
}
```

#### 2.8.3 Railway ë°°í¬ (Backend)

```bash
# 1. Railway CLI ì„¤ì¹˜
npm install -g @railway/cli

# 2. Railway ë¡œê·¸ì¸
railway login

# 3. ìƒˆ í”„ë¡œì íŠ¸ ìƒì„±
railway init

# 4. PostgreSQL ì¶”ê°€
railway add --database postgresql

# 5. Redis ì¶”ê°€
railway add --database redis

# 6. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
railway variables set OPENAI_API_KEY=sk-...
railway variables set CLOUDINARY_CLOUD_NAME=...
# (ëª¨ë“  í™˜ê²½ ë³€ìˆ˜ ì„¤ì •)

# 7. ë°°í¬
cd backend
railway up
```

```json
// backend/railway.json
{
  "$schema": "https://railway.app/railway.schema.json",
  "build": {
    "builder": "NIXPACKS",
    "buildCommand": "npm run build"
  },
  "deploy": {
    "startCommand": "npm start",
    "restartPolicyType": "ON_FAILURE",
    "restartPolicyMaxRetries": 10
  },
  "healthcheck": {
    "path": "/health",
    "timeout": 10,
    "interval": 30
  }
}
```

```json
// backend/package.json (scripts)
{
  "scripts": {
    "dev": "ts-node-dev --respawn --transpile-only src/server.ts",
    "build": "tsc",
    "start": "node dist/server.js",
    "migrate": "prisma migrate deploy",
    "postinstall": "prisma generate",
    "test": "jest",
    "test:watch": "jest --watch"
  }
}
```

#### 2.8.4 ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜

```bash
# Railwayì—ì„œ DATABASE_URL ë³µì‚¬ í›„

# ë¡œì»¬ì—ì„œ ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰
DATABASE_URL="postgresql://..." npx prisma migrate deploy

# ë˜ëŠ” Railway CLIì—ì„œ
railway run npx prisma migrate deploy

# ì‹œë“œ ë°ì´í„° (ì„ íƒì )
railway run npx prisma db seed
```

#### 2.8.5 ë„ë©”ì¸ ì—°ê²°

```bash
# Vercel (Frontend)
# 1. Vercel Dashboard > Settings > Domains
# 2. ë„ë©”ì¸ ì¶”ê°€: autophotofix.com, www.autophotofix.com
# 3. DNS ë ˆì½”ë“œ ì„¤ì •:
#    A     @       76.76.21.21
#    CNAME www     cname.vercel-dns.com

# Railway (Backend)
# 1. Railway Dashboard > Settings > Networking
# 2. ì»¤ìŠ¤í…€ ë„ë©”ì¸ ì¶”ê°€: api.autophotofix.com
# 3. DNS ë ˆì½”ë“œ:
#    CNAME api     <your-app>.up.railway.app
```

#### 2.8.6 SSL ì¸ì¦ì„œ

```
âœ… Vercel: ìë™ SSL ì¸ì¦ì„œ (Let's Encrypt)
âœ… Railway: ìë™ SSL ì¸ì¦ì„œ
```

---

### **2.9 ì„±ëŠ¥ ìµœì í™” ì „ëµ**

#### 2.9.1 Frontend ìµœì í™”

| ìµœì í™” í•­ëª© | êµ¬í˜„ ë°©ë²• | ì˜ˆìƒ íš¨ê³¼ |
|------------|----------|----------|
| **ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…** | React.lazy() + Suspense | ì´ˆê¸° ë²ˆë“¤ í¬ê¸° 40% ê°ì†Œ |
| **ì´ë¯¸ì§€ ì••ì¶•** | browser-image-compression | ì—…ë¡œë“œ ì‹œê°„ 70% ë‹¨ì¶• |
| **ë ˆì´ì§€ ë¡œë”©** | Intersection Observer API | í˜ì´ì§€ ë¡œë”© 50% ë¹¨ë¼ì§ |
| **CDN ìºì‹±** | Vercel Edge Network | ê¸€ë¡œë²Œ ì‘ë‹µ ì†ë„ 3ë°° í–¥ìƒ |
| **Web Workers** | ì´ë¯¸ì§€ ì²˜ë¦¬ ì˜¤í”„ë¡œë“œ | UI ë¸”ë¡œí‚¹ 100% ì œê±° |
| **PWA** | Service Worker ìºì‹± | ì¬ë°©ë¬¸ ì‹œ ì¦‰ì‹œ ë¡œë”© |

```typescript
// frontend/src/App.tsx - Code Splitting
import React, { Suspense, lazy } from 'react';
import { BrowserRouter, Routes, Route } from 'react-router-dom';
import { Loading } from './components/common/Loading';

// Lazy load pages
const HomePage = lazy(() => import('./pages/HomePage'));
const TrainingPage = lazy(() => import('./pages/TrainingPage'));
const CorrectionPage = lazy(() => import('./pages/CorrectionPage'));
const ProfilesPage = lazy(() => import('./pages/ProfilesPage'));

export const App: React.FC = () => {
  return (
    <BrowserRouter>
      <Suspense fallback={<Loading />}>
        <Routes>
          <Route path="/" element={<HomePage />} />
          <Route path="/training" element={<TrainingPage />} />
          <Route path="/correction" element={<CorrectionPage />} />
          <Route path="/profiles" element={<ProfilesPage />} />
        </Routes>
      </Suspense>
    </BrowserRouter>
  );
};
```

```typescript
// frontend/src/utils/imageWorker.ts
// Web Worker for image processing
export const processImageInWorker = (file: File): Promise<Blob> => {
  return new Promise((resolve, reject) => {
    const worker = new Worker(
      new URL('../workers/imageProcessor.worker.ts', import.meta.url),
      { type: 'module' }
    );

    worker.postMessage({ file });

    worker.onmessage = (e) => {
      resolve(e.data.result);
      worker.terminate();
    };

    worker.onerror = (error) => {
      reject(error);
      worker.terminate();
    };
  });
};
```

#### 2.9.2 Backend ìµœì í™”

```typescript
// backend/src/services/cacheService.ts
import Redis from 'ioredis';

const redis = new Redis(process.env.REDIS_URL);

export class CacheService {
  async get<T>(key: string): Promise<T | null> {
    const cached = await redis.get(key);
    return cached ? JSON.parse(cached) : null;
  }

  async set(key: string, value: any, ttl: number = 3600): Promise<void> {
    await redis.setex(key, ttl, JSON.stringify(value));
  }

  async delete(key: string): Promise<void> {
    await redis.del(key);
  }

  async invalidatePattern(pattern: string): Promise<void> {
    const keys = await redis.keys(pattern);
    if (keys.length > 0) {
      await redis.del(...keys);
    }
  }
}

export const cacheService = new CacheService();
```

```typescript
// backend/src/middleware/cacheMiddleware.ts
import { Request, Response, NextFunction } from 'express';
import { cacheService } from '../services/cacheService';

export const cacheMiddleware = (ttl: number = 3600) => {
  return async (req: Request, res: Response, next: NextFunction) => {
    // GET ìš”ì²­ë§Œ ìºì‹±
    if (req.method !== 'GET') {
      return next();
    }

    const cacheKey = `cache:${req.originalUrl}`;
    const cached = await cacheService.get(cacheKey);

    if (cached) {
      return res.json(cached);
    }

    // ì‘ë‹µì„ ê°€ë¡œì±„ì„œ ìºì‹±
    const originalJson = res.json.bind(res);
    res.json = (body: any) => {
      cacheService.set(cacheKey, body, ttl);
      return originalJson(body);
    };

    next();
  };
};
```

#### 2.9.3 ë°ì´í„°ë² ì´ìŠ¤ ìµœì í™”

```typescript
// backend/src/services/queueService.ts
import { Queue, Worker } from 'bullmq';
import Redis from 'ioredis';

const connection = new Redis(process.env.REDIS_URL);

// ì‘ì—… í ìƒì„±
export const imageProcessingQueue = new Queue('image-processing', {
  connection,
  defaultJobOptions: {
    attempts: 3,
    backoff: {
      type: 'exponential',
      delay: 1000
    },
    removeOnComplete: 100,
    removeOnFail: 500
  }
});

// ì›Œì»¤ ìƒì„±
const worker = new Worker(
  'image-processing',
  async (job) => {
    const { type, data } = job.data;

    switch (type) {
      case 'analyze':
        return await processAnalysis(data);
      case 'correct':
        return await processCorrection(data);
      case 'cleanup':
        return await cleanupExpiredImages();
      default:
        throw new Error(`Unknown job type: ${type}`);
    }
  },
  {
    connection,
    concurrency: 2 // ë™ì‹œ ì²˜ë¦¬ ì‘ì—… ìˆ˜
  }
);

worker.on('completed', (job) => {
  console.log(`Job ${job.id} completed`);
});

worker.on('failed', (job, err) => {
  console.error(`Job ${job?.id} failed:`, err);
});
```

---

### **2.10 ë³´ì•ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸**

#### 2.10.1 íŒŒì¼ ì—…ë¡œë“œ ë³´ì•ˆ

```typescript
// backend/src/middleware/fileValidator.ts
import multer from 'multer';
import { Request } from 'express';
import fileType from 'file-type';

// MIME íƒ€ì… í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸
const ALLOWED_MIME_TYPES = ['image/jpeg', 'image/png'];

// ë§¤ì§ ë„˜ë²„ ê²€ì¦
const validateFileContent = async (buffer: Buffer): Promise<boolean> => {
  const type = await fileType.fromBuffer(buffer);
  return type ? ALLOWED_MIME_TYPES.includes(type.mime) : false;
};

// Multer ì„¤ì •
export const upload = multer({
  storage: multer.memoryStorage(),
  limits: {
    fileSize: 10 * 1024 * 1024, // 10MB
    files: 2
  },
  fileFilter: async (req: Request, file: Express.Multer.File, cb) => {
    // MIME íƒ€ì… 1ì°¨ ê²€ì¦
    if (!ALLOWED_MIME_TYPES.includes(file.mimetype)) {
      return cb(new Error('Invalid file type. Only JPG and PNG allowed.'));
    }

    cb(null, true);
  }
});

// íŒŒì¼ ì½˜í…ì¸  ê²€ì¦ ë¯¸ë“¤ì›¨ì–´
export const validateFileContentMiddleware = async (
  req: Request,
  res: Response,
  next: NextFunction
) => {
  const files = req.files as { [fieldname: string]: Express.Multer.File[] };

  for (const fieldname in files) {
    for (const file of files[fieldname]) {
      const isValid = await validateFileContent(file.buffer);
      if (!isValid) {
        return res.status(400).json({
          success: false,
          error: {
            code: 'INVALID_FILE_CONTENT',
            message: 'File content does not match declared type'
          }
        });
      }
    }
  }

  next();
};
```

#### 2.10.2 Rate Limiting

```typescript
// backend/src/middleware/rateLimiter.ts
import rateLimit from 'express-rate-limit';
import RedisStore from 'rate-limit-redis';
import Redis from 'ioredis';

const redis = new Redis(process.env.REDIS_URL);

// APIë³„ Rate Limit ì„¤ì •
export const trainingLimiter = rateLimit({
  store: new RedisStore({
    client: redis,
    prefix: 'rl:training:'
  }),
  windowMs: 60 * 60 * 1000, // 1ì‹œê°„
  max: 20, // 20ê±´
  message: {
    success: false,
    error: {
      code: 'RATE_LIMIT_EXCEEDED',
      message: 'Maximum 20 training requests per hour'
    }
  },
  standardHeaders: true,
  legacyHeaders: false
});

export const correctionLimiter = rateLimit({
  store: new RedisStore({
    client: redis,
    prefix: 'rl:correction:'
  }),
  windowMs: 60 * 60 * 1000,
  max: 50,
  message: {
    success: false,
    error: {
      code: 'RATE_LIMIT_EXCEEDED',
      message: 'Maximum 50 correction requests per hour'
    }
  }
});
```

#### 2.10.3 ì½˜í…ì¸  ì•ˆì „ í•„í„°

```typescript
// backend/src/services/contentModerationService.ts
import OpenAI from 'openai';

const openai = new OpenAI({ apiKey: process.env.OPENAI_API_KEY });

export class ContentModerationService {
  /**
   * ì´ë¯¸ì§€ ì•ˆì „ì„± ê²€ì‚¬ (ì„±ì¸/í­ë ¥/í˜ì˜¤ ì½˜í…ì¸ )
   */
  async moderateImage(imageBase64: string): Promise<boolean> {
    try {
      const response = await openai.moderations.create({
        input: imageBase64
      });

      const flagged = response.results[0].flagged;

      if (flagged) {
        const categories = response.results[0].categories;
        console.warn('Content moderation flagged:', categories);
      }

      return !flagged; // true = ì•ˆì „, false = ë¶€ì ì ˆ

    } catch (error) {
      console.error('Content moderation failed:', error);
      // ì—ëŸ¬ ì‹œ ì•ˆì „í•˜ê²Œ ê±°ë¶€
      return false;
    }
  }
}

export const contentModerationService = new ContentModerationService();
```

#### 2.10.4 ë³´ì•ˆ í—¤ë”

```typescript
// backend/src/server.ts
import helmet from 'helmet';

app.use(helmet({
  contentSecurityPolicy: {
    directives: {
      defaultSrc: ["'self'"],
      styleSrc: ["'self'", "'unsafe-inline'", 'https://fonts.googleapis.com'],
      fontSrc: ["'self'", 'https://fonts.gstatic.com'],
      imgSrc: ["'self'", 'data:', 'https://res.cloudinary.com'],
      scriptSrc: ["'self'", 'https://pagead2.googlesyndication.com'],
      connectSrc: ["'self'", 'https://api.autophotofix.com']
    }
  },
  hsts: {
    maxAge: 31536000,
    includeSubDomains: true,
    preload: true
  },
  frameguard: {
    action: 'deny'
  },
  noSniff: true,
  xssFilter: true
}));
```

---

### **2.11 í…ŒìŠ¤íŠ¸ ì „ëµ**

#### 2.11.1 ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ (Unit Tests)

```typescript
// backend/tests/unit/aiService.test.ts
import { aiService } from '../../src/services/aiService';

describe('AIService', () => {
  describe('analyzeImageAdjustments', () => {
    it('should detect brightness increase', async () => {
      const originalBase64 = 'data:image/jpeg;base64,...';
      const brighterBase64 = 'data:image/jpeg;base64,...';

      const result = await aiService.analyzeImageAdjustments(
        originalBase64,
        brighterBase64
      );

      expect(result.brightness).toBeGreaterThan(1.0);
      expect(result.brightness).toBeLessThanOrEqual(2.0);
    });

    it('should handle API errors gracefully', async () => {
      const invalidBase64 = 'invalid';

      await expect(
        aiService.analyzeImageAdjustments(invalidBase64, invalidBase64)
      ).rejects.toThrow();
    });
  });

  describe('validateParameters', () => {
    it('should clamp out-of-range values', () => {
      const params = {
        brightness: 5.0, // ë²”ìœ„ ì´ˆê³¼
        contrast: -1.0,  // ìŒìˆ˜
        saturation: 1.0,
        hue: 0,
        sharpness: 1.0,
        temperature: 0,
        tint: 0,
        filters: []
      };

      const validated = (aiService as any).validateParameters(params);

      expect(validated.brightness).toBe(2.0);
      expect(validated.contrast).toBe(0.5);
    });
  });
});
```

#### 2.11.2 í†µí•© í…ŒìŠ¤íŠ¸ (Integration Tests)

```typescript
// backend/tests/integration/training.test.ts
import request from 'supertest';
import app from '../../src/server';
import { prisma } from '../../src/models';

describe('POST /api/v1/training/analyze', () => {
  afterAll(async () => {
    await prisma.$disconnect();
  });

  it('should analyze images and return profile', async () => {
    const response = await request(app)
      .post('/api/v1/training/analyze')
      .field('profile_name', 'Test Profile')
      .attach('original_image', 'tests/fixtures/original.jpg')
      .attach('adjusted_image', 'tests/fixtures/adjusted.jpg');

    expect(response.status).toBe(200);
    expect(response.body.success).toBe(true);
    expect(response.body.data).toHaveProperty('profile_id');
    expect(response.body.data).toHaveProperty('detected_adjustments');
    expect(response.body.data.confidence_score).toBeGreaterThan(0);
  });

  it('should reject invalid file types', async () => {
    const response = await request(app)
      .post('/api/v1/training/analyze')
      .field('profile_name', 'Test')
      .attach('original_image', 'tests/fixtures/invalid.txt')
      .attach('adjusted_image', 'tests/fixtures/original.jpg');

    expect(response.status).toBe(400);
    expect(response.body.success).toBe(false);
  });

  it('should enforce rate limiting', async () => {
    // 21ë²ˆ ìš”ì²­ (ì œí•œ: 20/hour)
    for (let i = 0; i < 21; i++) {
      const response = await request(app)
        .post('/api/v1/training/analyze')
        .field('profile_name', `Test ${i}`)
        .attach('original_image', 'tests/fixtures/original.jpg')
        .attach('adjusted_image', 'tests/fixtures/adjusted.jpg');

      if (i < 20) {
        expect(response.status).toBe(200);
      } else {
        expect(response.status).toBe(429);
      }
    }
  });
});
```

#### 2.11.3 E2E í…ŒìŠ¤íŠ¸ (End-to-End)

```typescript
// frontend/tests/e2e/training.spec.ts
import { test, expect } from '@playwright/test';

test.describe('Training Flow', () => {
  test('should complete full training workflow', async ({ page }) => {
    // 1. í˜ì´ì§€ ì ‘ì†
    await page.goto('/training');

    // 2. ì œëª© í™•ì¸
    await expect(page.locator('h1')).toContainText('Train Your Style');

    // 3. ì´ë¯¸ì§€ ì—…ë¡œë“œ
    const originalInput = page.locator('input[type="file"]').first();
    await originalInput.setInputFiles('tests/fixtures/original.jpg');

    const adjustedInput = page.locator('input[type="file"]').nth(1);
    await adjustedInput.setInputFiles('tests/fixtures/adjusted.jpg');

    // 4. í”„ë¡œí•„ëª… ì…ë ¥
    await page.fill('input[placeholder*="Portrait"]', 'E2E Test Profile');

    // 5. ë¶„ì„ ë²„íŠ¼ í´ë¦­
    await page.click('button:has-text("Analyze")');

    // 6. ë¡œë”© ìƒíƒœ í™•ì¸
    await expect(page.locator('text=Analyzing')).toBeVisible();

    // 7. ê²°ê³¼ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ (ìµœëŒ€ 10ì´ˆ ëŒ€ê¸°)
    await page.waitForURL('**/profiles', { timeout: 10000 });

    // 8. ì„±ê³µ ë©”ì‹œì§€ í™•ì¸
    await expect(page.locator('text=Profile created successfully')).toBeVisible();

    // 9. ìƒˆ í”„ë¡œí•„ í™•ì¸
    await expect(page.locator('text=E2E Test Profile')).toBeVisible();
  });
});
```

---

### **2.12 ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…**

#### 2.12.1 Sentry í†µí•©

```typescript
// backend/src/utils/sentry.ts
import * as Sentry from '@sentry/node';
import { ProfilingIntegration } from '@sentry/profiling-node';

export const initSentry = () => {
  Sentry.init({
    dsn: process.env.SENTRY_DSN,
    environment: process.env.NODE_ENV,
    integrations: [
      new ProfilingIntegration()
    ],
    tracesSampleRate: 0.1, // 10% íŠ¸ëœì­ì…˜ ì¶”ì 
    profilesSampleRate: 0.1
  });
};

// backend/src/middleware/errorHandler.ts
import * as Sentry from '@sentry/node';

export const errorHandler = (err: any, req: Request, res: Response, next: NextFunction) => {
  // Sentryì— ì—ëŸ¬ ë³´ê³ 
  Sentry.captureException(err, {
    tags: {
      endpoint: req.path,
      method: req.method
    },
    user: {
      id: req.session?.userId || req.ip
    }
  });

  logger.error('Request error', {
    error: err.message,
    stack: err.stack,
    path: req.path
  });

  res.status(err.status || 500).json({
    success: false,
    error: {
      code: err.code || 'INTERNAL_ERROR',
      message: process.env.NODE_ENV === 'production'
        ? 'An error occurred'
        : err.message
    }
  });
};
```

#### 2.12.2 Winston Logger

```typescript
// backend/src/utils/logger.ts
import winston from 'winston';

export const logger = winston.createLogger({
  level: process.env.LOG_LEVEL || 'info',
  format: winston.format.combine(
    winston.format.timestamp(),
    winston.format.errors({ stack: true }),
    winston.format.json()
  ),
  defaultMeta: {
    service: 'autophotofix-backend'
  },
  transports: [
    // íŒŒì¼ ë¡œê·¸
    new winston.transports.File({
      filename: 'logs/error.log',
      level: 'error'
    }),
    new winston.transports.File({
      filename: 'logs/combined.log'
    })
  ]
});

// ê°œë°œ í™˜ê²½ì—ì„œëŠ” ì½˜ì†” ì¶œë ¥
if (process.env.NODE_ENV !== 'production') {
  logger.add(new winston.transports.Console({
    format: winston.format.combine(
      winston.format.colorize(),
      winston.format.simple()
    )
  }));
}
```

---

### **2.13 ëŸ°ì¹˜ ì²´í¬ë¦¬ìŠ¤íŠ¸**

#### MVP ì¶œì‹œ ì „ í•„ìˆ˜ ì‚¬í•­

```markdown
## ê¸°ëŠ¥ (Features)
- [ ] ì´ë¯¸ì§€ í•™ìŠµ ê¸°ëŠ¥ ì™„ì „ ë™ì‘
- [ ] ìë™ ë³´ì • ì ìš© ê¸°ëŠ¥ ì™„ì „ ë™ì‘
- [ ] í”„ë¡œí•„ ê´€ë¦¬ (ìƒì„±/ì¡°íšŒ/ì‚­ì œ)
- [ ] ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ

## ì„±ëŠ¥ (Performance)
- [ ] ì´ë¯¸ì§€ ë¶„ì„ 5ì´ˆ ì´ë‚´
- [ ] ì´ë¯¸ì§€ ë³´ì • 2ì´ˆ ì´ë‚´
- [ ] í˜ì´ì§€ ë¡œë”© 1ì´ˆ ì´ë‚´ (FCP)
- [ ] Lighthouse ì ìˆ˜ 90+ (Performance)

## ë³´ì•ˆ (Security)
- [ ] HTTPS ê°•ì œ
- [ ] Rate Limiting ì ìš©
- [ ] íŒŒì¼ íƒ€ì… ê²€ì¦ (MIME + Magic Number)
- [ ] ì½˜í…ì¸  ì•ˆì „ í•„í„°ë§
- [ ] CORS ì„¤ì •
- [ ] Helmet ë³´ì•ˆ í—¤ë”

## UI/UX
- [ ] ëª¨ë°”ì¼ ë°˜ì‘í˜• í…ŒìŠ¤íŠ¸ (iOS/Android)
- [ ] íƒœë¸”ë¦¿ ìµœì í™”
- [ ] ë¡œë”© ìƒíƒœ í‘œì‹œ
- [ ] ì—ëŸ¬ ë©”ì‹œì§€ ì‚¬ìš©ì ì¹œí™”ì 
- [ ] ì ‘ê·¼ì„± (WCAG 2.1 AA)

## ìˆ˜ìµí™” (Monetization)
- [ ] Google AdSense ìŠ¹ì¸
- [ ] ê´‘ê³  ë°°ì¹˜ (3ê°œ ì´ìƒ í˜ì´ì§€)
- [ ] ê´‘ê³  ì •ì±… ì¤€ìˆ˜ í™•ì¸
- [ ] ê°œì¸ì •ë³´ ì²˜ë¦¬ë°©ì¹¨ í˜ì´ì§€
- [ ] ì¿ í‚¤ ì •ì±… ê³µì§€

## ë¶„ì„ (Analytics)
- [ ] Google Analytics 4 ì„¤ì¹˜
- [ ] ì „í™˜ ì´ë²¤íŠ¸ ì„¤ì • (ë¶„ì„ ì™„ë£Œ, ë³´ì • ì™„ë£Œ)
- [ ] Sentry ì—ëŸ¬ íŠ¸ë˜í‚¹
- [ ] ì‚¬ìš©ì í”¼ë“œë°± ìˆ˜ì§‘ ì±„ë„

## ë²•ì  (Legal)
- [ ] ì´ìš©ì•½ê´€ ì‘ì„±
- [ ] ê°œì¸ì •ë³´ ì²˜ë¦¬ë°©ì¹¨
- [ ] ì €ì‘ê¶Œ ê³ ì§€
- [ ] GDPR ì¤€ìˆ˜ (EU ì‚¬ìš©ì ëŒ€ìƒ ì‹œ)

## SEO
- [ ] ë©”íƒ€ íƒœê·¸ (title, description)
- [ ] Open Graph íƒœê·¸
- [ ] robots.txt
- [ ] sitemap.xml
- [ ] Google Search Console ë“±ë¡

## ë°°í¬ (Deployment)
- [ ] Frontend Vercel ë°°í¬
- [ ] Backend Railway ë°°í¬
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜
- [ ] í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
- [ ] ë„ë©”ì¸ ì—°ê²° ë° SSL
- [ ] CDN ìºì‹± í™•ì¸
```

#### ì¶œì‹œ í›„ ëª¨ë‹ˆí„°ë§ (ì²« ì£¼)

```markdown
- [ ] ë§¤ì¼ ì—ëŸ¬ ë¡œê·¸ í™•ì¸ (Sentry)
- [ ] API ì‘ë‹µ ì‹œê°„ ì¶”ì  (í‰ê·  < 500ms)
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ ì„±ëŠ¥
- [ ] OpenAI API ë¹„ìš© ëª¨ë‹ˆí„°ë§
- [ ] ê´‘ê³  ìˆ˜ìµ ì¶”ì  (AdSense)
- [ ] ì‚¬ìš©ì í”¼ë“œë°± ìˆ˜ì§‘ ë° ëŒ€ì‘
- [ ] ì„œë²„ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ë¥  (CPU/Memory)
- [ ] Redis ìºì‹œ íˆíŠ¸ìœ¨ (> 80%)
```

---

### **2.14 í–¥í›„ í™•ì¥ ë¡œë“œë§µ**

#### Phase 1: MVP (í˜„ì¬)
**ëª©í‘œ**: í•µì‹¬ ê¸°ëŠ¥ ê²€ì¦, ì´ˆê¸° ì‚¬ìš©ì í™•ë³´

- âœ… ê¸°ë³¸ ë³´ì • í•™ìŠµ ë° ì ìš©
- âœ… Google AdSense í†µí•©
- âœ… í”„ë¡œí•„ ê´€ë¦¬

**ì„±ê³µ ì§€í‘œ**:
- ì¼ì¼ í™œì„± ì‚¬ìš©ì 100ëª…
- ì›” ê´‘ê³  ìˆ˜ìµ $100+
- ì‚¬ìš©ì ë§Œì¡±ë„ 4.0/5.0

---

#### Phase 2: ê¸°ëŠ¥ í™•ì¥ (1-3ê°œì›”)
**ëª©í‘œ**: ì‚¬ìš©ì ê²½í—˜ ê°œì„ , ìˆ˜ìµ ë‹¤ê°í™”

**ì‹ ê·œ ê¸°ëŠ¥**:
1. **ë°°ì¹˜ ì²˜ë¦¬**
   - ì—¬ëŸ¬ ì´ë¯¸ì§€ ë™ì‹œ ì—…ë¡œë“œ (ìµœëŒ€ 20ì¥)
   - ZIP íŒŒì¼ ë‹¤ìš´ë¡œë“œ
   - ì§„í–‰ë¥  í‘œì‹œ

2. **í”„ë¦¬ì…‹ ì‹œìŠ¤í…œ**
   - ì¹´í…Œê³ ë¦¬ë³„ í”„ë¡œí•„ (ì¸ë¬¼/í’ê²½/ìŒì‹/ì•¼ê²½)
   - ì»¤ë®¤ë‹ˆí‹° í”„ë¡œí•„ ê³µìœ 
   - ì¸ê¸° í”„ë¡œí•„ ë­í‚¹

3. **ì‚¬ìš©ì ê³„ì •**
   - ì´ë©”ì¼/ì†Œì…œ ë¡œê·¸ì¸
   - í”„ë¡œí•„ í´ë¼ìš°ë“œ ë™ê¸°í™”
   - ì‚¬ìš© í†µê³„ ëŒ€ì‹œë³´ë“œ

4. **ê³ ê¸‰ í¸ì§‘**
   - íŒŒë¼ë¯¸í„° ìˆ˜ë™ ì¡°ì •
   - Before/After ìŠ¬ë¼ì´ë”
   - ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸°

**ê¸°ìˆ  ê°œì„ **:
- WebSocket ì‹¤ì‹œê°„ ì²˜ë¦¬ ìƒíƒœ
- ì´ë¯¸ì§€ ì²˜ë¦¬ ì†ë„ 50% í–¥ìƒ (GPU ê°€ì†)
- PWA ì§€ì› (ì˜¤í”„ë¼ì¸ ëª¨ë“œ)

**ìˆ˜ìµí™”**:
- í”„ë¦¬ë¯¸ì—„ êµ¬ë… ì¶œì‹œ ($9.99/ì›”)
  - ë¬´ì œí•œ ì²˜ë¦¬
  - ê´‘ê³  ì œê±°
  - ë°°ì¹˜ ì²˜ë¦¬ ìš°ì„ ìˆœìœ„
  - ê³ ê¸‰ í•„í„° (ë¹ˆí‹°ì§€, ì‹œë„¤ë§ˆí‹± ë“±)

**ëª©í‘œ ì§€í‘œ**:
- ì¼ì¼ í™œì„± ì‚¬ìš©ì 1,000ëª…
- ìœ ë£Œ ì „í™˜ìœ¨ 3%
- ì›” ìˆ˜ìµ $500 (ê´‘ê³  + êµ¬ë…)

---

#### Phase 3: AI ê³ ë„í™” (3-6ê°œì›”)
**ëª©í‘œ**: ì°¨ë³„í™”ëœ AI ê¸°ìˆ , ë¸Œëœë“œ í™•ë¦½

**ì‹ ê·œ ê¸°ëŠ¥**:
1. **ì»¤ìŠ¤í…€ AI ëª¨ë¸**
   - ì‚¬ìš©ì ë°ì´í„°ë¡œ ëª¨ë¸ íŒŒì¸íŠœë‹
   - ê°œì¸í™”ëœ ìŠ¤íƒ€ì¼ ì¶”ì²œ
   - ì–¼êµ´ ì¸ì‹ ê¸°ë°˜ ì¸ë¬¼ ë³´ì •

2. **ìŠ¤ë§ˆíŠ¸ ë¶„ì„**
   - ì´ë¯¸ì§€ ì¥ë©´ ì¸ì‹ (ì¸ë¬¼/í’ê²½/ìŒì‹ ìë™ ë¶„ë¥˜)
   - ìµœì  ë³´ì • ìë™ ì¶”ì²œ
   - ë…¸ì´ì¦ˆ/í”ë“¤ë¦¼ ìë™ ê°ì§€ ë° ë³µêµ¬

3. **í¬ë¦¬ì—ì´í„° ë„êµ¬**
   - API ì œê³µ (ê°œë°œììš©)
   - Lightroom/Photoshop í”ŒëŸ¬ê·¸ì¸
   - ì¼ê´„ ì›Œí„°ë§ˆí¬ ì‚½ì…

**ê¸°ìˆ  ê°œì„ **:
- ìì²´ AI ëª¨ë¸ (OpenAI ë¹„ìš© ì ˆê°)
- CDN ì—£ì§€ ì»´í“¨íŒ… (ì§€ì—­ë³„ ì²˜ë¦¬)
- ë©€í‹°í…Œë„Œì‹œ ì•„í‚¤í…ì²˜

**ë¹„ì¦ˆë‹ˆìŠ¤**:
- B2B SaaS ëª¨ë¸ (ì—ì´ì „ì‹œ/ìŠ¤íŠœë””ì˜¤)
- í™”ì´íŠ¸ë¼ë²¨ ì†”ë£¨ì…˜
- ì—”í„°í”„ë¼ì´ì¦ˆ í”Œëœ ($99/ì›”)

**ëª©í‘œ ì§€í‘œ**:
- ì¼ì¼ í™œì„± ì‚¬ìš©ì 10,000ëª…
- ìœ ë£Œ ì „í™˜ìœ¨ 5%
- ì›” ìˆ˜ìµ $3,000+
- B2B ê³ ê° 5ê°œ ì´ìƒ

---

#### Phase 4: ë©€í‹°í”Œë«í¼ (6-12ê°œì›”)
**ëª©í‘œ**: í”Œë«í¼ í™•ì¥, ì‹œì¥ ì§€ë°°ë ¥

**ì‹ ê·œ í”Œë«í¼**:
1. **ëª¨ë°”ì¼ ì•±**
   - React Native (iOS/Android)
   - ì¹´ë©”ë¼ ì§ì ‘ ì´¬ì˜ í›„ ì¦‰ì‹œ ë³´ì •
   - AR í”„ë¦¬ë·° (ì‹¤ì‹œê°„ ë³´ì • ë¯¸ë¦¬ë³´ê¸°)

2. **ë°ìŠ¤í¬í†± ì•±**
   - Electron (Windows/macOS)
   - ë¡œì»¬ ì²˜ë¦¬ (ì¸í„°ë„· ë¶ˆí•„ìš”)
   - RAW íŒŒì¼ ì§€ì›

3. **ë¸Œë¼ìš°ì € í™•ì¥**
   - Chrome/Firefox Extension
   - ì›¹ ì´ë¯¸ì§€ ìš°í´ë¦­ â†’ ì¦‰ì‹œ ë³´ì •

**í†µí•©**:
- Dropbox/Google Drive ì—°ë™
- Instagram ì§ì ‘ ì—…ë¡œë“œ
- Slack/Discord ë´‡

**ëª©í‘œ ì§€í‘œ**:
- ì´ ì‚¬ìš©ì 100,000ëª…
- ëª¨ë°”ì¼ ì•± ë‹¤ìš´ë¡œë“œ 10,000+
- ì›” ìˆ˜ìµ $10,000+

---

### **2.15 FAQ ë° íŠ¸ëŸ¬ë¸”ìŠˆíŒ…**

#### ìì£¼ ë¬»ëŠ” ì§ˆë¬¸

**Q1: ì™œ OpenAI API ëŒ€ì‹  ì˜¤í”ˆì†ŒìŠ¤ ëª¨ë¸ì„ ì‚¬ìš©í•˜ì§€ ì•Šë‚˜ìš”?**
A: ì´ˆê¸° MVPì—ì„œëŠ” ê°œë°œ ì†ë„ì™€ ì •í™•ë„ë¥¼ ìš°ì„ ì‹œí–ˆìŠµë‹ˆë‹¤. GPT-4 Visionì€ ë³„ë„ í•™ìŠµ ì—†ì´ ë°”ë¡œ ì‚¬ìš© ê°€ëŠ¥í•˜ë©°, ì´ë¯¸ì§€ ë¹„êµ ì •í™•ë„ê°€ ë†’ìŠµë‹ˆë‹¤. Phase 3ì—ì„œ ìì²´ ëª¨ë¸ë¡œ ì „í™˜ ì˜ˆì •ì…ë‹ˆë‹¤.

**Q2: ì‚¬ìš©ìê°€ ì—…ë¡œë“œí•œ ì´ë¯¸ì§€ëŠ” ì–¼ë§ˆë‚˜ ë³´ê´€ë˜ë‚˜ìš”?**
A: 24ì‹œê°„ í›„ ìë™ ì‚­ì œë©ë‹ˆë‹¤. ë‹¤ë§Œ ë³´ì • í”„ë¡œí•„ì˜ ì°¸ì¡° ì´ë¯¸ì§€(ì¸ë„¤ì¼)ëŠ” ì‚¬ìš©ìê°€ ì‚­ì œí•  ë•Œê¹Œì§€ ìœ ì§€ë©ë‹ˆë‹¤.

**Q3: GDPR ì¤€ìˆ˜ëŠ” ì–´ë–»ê²Œ í•˜ë‚˜ìš”?**
A: ì‚¬ìš©ì ë™ì˜ ì—†ì´ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ì§€ ì•Šìœ¼ë©°, ìš”ì²­ ì‹œ ëª¨ë“  ë°ì´í„°ë¥¼ ì‚­ì œí•©ë‹ˆë‹¤. ì¿ í‚¤ ì •ì±… ë° ê°œì¸ì •ë³´ ì²˜ë¦¬ë°©ì¹¨ í˜ì´ì§€ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

**Q4: ê´‘ê³  ì—†ì´ ì‚¬ìš©í•  ìˆ˜ ìˆë‚˜ìš”?**
A: Phase 2ì—ì„œ í”„ë¦¬ë¯¸ì—„ êµ¬ë…($9.99/ì›”)ì„ ì¶œì‹œí•˜ë©´ ê´‘ê³  ì—†ì´ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.

**Q5: ìƒì—…ì  ìš©ë„ë¡œ ì‚¬ìš©í•´ë„ ë˜ë‚˜ìš”?**
A: ë¬´ë£Œ í”Œëœì€ ê°œì¸ ìš©ë„ë§Œ ê°€ëŠ¥í•˜ë©°, ìƒì—…ì  ì‚¬ìš©ì€ í”„ë¦¬ë¯¸ì—„ ë˜ëŠ” ì—”í„°í”„ë¼ì´ì¦ˆ í”Œëœì´ í•„ìš”í•©ë‹ˆë‹¤.

---

#### íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

**ë¬¸ì œ: OpenAI API ì‘ë‹µì´ ëŠë¦¼ (> 10ì´ˆ)**
```
ì›ì¸: ì´ë¯¸ì§€ í¬ê¸°ê°€ ë„ˆë¬´ í¼
í•´ê²°:
1. í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ì´ë¯¸ì§€ ì••ì¶• ê°•í™” (ìµœëŒ€ 1MB)
2. ë°±ì—”ë“œì—ì„œ ë¦¬ì‚¬ì´ì¦ˆ (ìµœëŒ€ 1024x1024)
3. OpenAI API íƒ€ì„ì•„ì›ƒ ì„¤ì • (10ì´ˆ)
```

**ë¬¸ì œ: Cloudinary ì—…ë¡œë“œ ì‹¤íŒ¨**
```
ì›ì¸: ë¬´ë£Œ í‹°ì–´ ëŒ€ì—­í­ ì´ˆê³¼
í•´ê²°:
1. Redis ìºì‹±ìœ¼ë¡œ ì¤‘ë³µ ì—…ë¡œë“œ ë°©ì§€
2. ì´ë¯¸ì§€ ë§Œë£Œ ì‹œê°„ ë‹¨ì¶• (24ì‹œê°„ â†’ 12ì‹œê°„)
3. Pro í”Œëœ ì—…ê·¸ë ˆì´ë“œ ê³ ë ¤
```

**ë¬¸ì œ: Railway ì„œë²„ ë‹¤ìš´**
```
ì›ì¸: ë©”ëª¨ë¦¬ ë¶€ì¡± (ë¬´ë£Œ í‹°ì–´ 512MB)
í•´ê²°:
1. ì´ë¯¸ì§€ ì²˜ë¦¬ ì›Œì»¤ë¥¼ ë³„ë„ í”„ë¡œì„¸ìŠ¤ë¡œ ë¶„ë¦¬
2. BullMQë¡œ ì‘ì—… í ê´€ë¦¬
3. ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ í™•ì¸ (Sharp ì¸ìŠ¤í„´ìŠ¤ ì •ë¦¬)
```

**ë¬¸ì œ: Rate Limitingì´ ì‘ë™í•˜ì§€ ì•ŠìŒ**
```
ì›ì¸: Redis ì—°ê²° ì‹¤íŒ¨
í•´ê²°:
1. Redis ì—°ê²° ìƒíƒœ í™•ì¸ (redis-cli PING)
2. í™˜ê²½ ë³€ìˆ˜ REDIS_URL í™•ì¸
3. Fallbackìœ¼ë¡œ express-rate-limit ê¸°ë³¸ ë©”ëª¨ë¦¬ ìŠ¤í† ì–´ ì‚¬ìš©
```

---

### **2.16 README.md (GitHubìš©)**

```markdown
# ğŸ¨ AutoPhotoFix

> Train AI to learn your photo editing style and automatically apply it to any image.

[![Live Demo](https://img.shields.io/badge/demo-live-green)](https://autophotofix.com)
[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![PRs Welcome](https://img.shields.io/badge/PRs-welcome-brightgreen.svg)](.github/CONTRIBUTING.md)

![AutoPhotoFix Demo](docs/images/demo.gif)

## âœ¨ Features

- ğŸ¤– **AI Style Learning**: Upload before/after photos to teach AI your editing style
- âš¡ **Auto Correction**: Apply learned style to new photos instantly
- ğŸ’¾ **Profile Management**: Save multiple editing profiles for different scenarios
- ğŸ“± **Responsive Design**: Works seamlessly on desktop, tablet, and mobile
- ğŸ”’ **Privacy First**: Images auto-delete after 24 hours

## ğŸš€ Quick Start

### Prerequisites

- Node.js 20+
- PostgreSQL 15+
- Redis 7+
- OpenAI API Key

### Installation

```bash
# Clone repository
git clone https://github.com/yourusername/autophotofix.git
cd autophotofix

# Install dependencies
npm install

# Setup environment variables
cp .env.example .env
# Edit .env with your credentials

# Run database migrations
cd backend
npx prisma migrate dev

# Start development servers
npm run dev
```

Frontend: http://localhost:3000
Backend: http://localhost:4000

## ğŸ“š Documentation

- [Architecture](docs/ARCHITECTURE.md)
- [API Reference](docs/API.md)
- [Deployment Guide](docs/DEPLOYMENT.md)
- [Contributing](docs/CONTRIBUTING.md)

## ğŸ› ï¸ Tech Stack

**Frontend**: React 18, TypeScript, TailwindCSS, Vite
**Backend**: Node.js, Express, Prisma, Sharp
**AI**: OpenAI GPT-4 Vision
**Database**: PostgreSQL, Redis
**Hosting**: Vercel (Frontend), Railway (Backend)

## ğŸ“Š Performance

- âš¡ Image analysis: < 5 seconds
- ğŸ¯ Correction apply: < 2 seconds
- ğŸ“ˆ Lighthouse score: 95+

## ğŸ¤ Contributing

Contributions are welcome! Please read [CONTRIBUTING.md](docs/CONTRIBUTING.md) first.

## ğŸ“„ License

This project is licensed under the MIT License - see [LICENSE](LICENSE) file.

## ğŸ™ Acknowledgments

- OpenAI for GPT-4 Vision API
- [Sharp](https://sharp.pixelplumbing.com/) for image processing
- All contributors and supporters

---

Made with â¤ï¸ by [Your Name]
```

---

## ê²°ë¡ 

ì´ í”„ë¡œì íŠ¸ ì„¤ê³„ ë¬¸ì„œëŠ” **AutoPhotoFix**ì˜ ì™„ì „í•œ êµ¬í˜„ ê°€ì´ë“œë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### í•µì‹¬ ê°•ì 

1. **ì¦‰ì‹œ ì‹¤í–‰ ê°€ëŠ¥**: ëª¨ë“  ì½”ë“œì™€ ì„¤ì •ì´ í¬í•¨ë˜ì–´ ë°”ë¡œ êµ¬í˜„ ê°€ëŠ¥
2. **ë¹„ìš© íš¨ìœ¨ì **: ë¬´ë£Œ í‹°ì–´ ìµœëŒ€ í™œìš©, ì›” $35 ì´í•˜ ìš´ì˜
3. **í™•ì¥ ê°€ëŠ¥**: Phase 1ë¶€í„° Phase 4ê¹Œì§€ ëª…í™•í•œ ë¡œë“œë§µ
4. **í”„ë¡œë•ì…˜ ì¤€ë¹„**: ë³´ì•ˆ, ì„±ëŠ¥, ëª¨ë‹ˆí„°ë§ ëª¨ë‘ ê³ ë ¤
5. **ìˆ˜ìµí™” ì „ëµ**: AdSense + êµ¬ë… ëª¨ë¸

### ë‹¤ìŒ ë‹¨ê³„

1. í™˜ê²½ ì„¤ì • ë° ì˜ì¡´ì„± ì„¤ì¹˜
2. OpenAI API í‚¤ ë°œê¸‰
3. Cloudinary ê³„ì • ìƒì„±
4. ë¡œì»¬ ê°œë°œ í™˜ê²½ êµ¬ì¶•
5. MVP ê¸°ëŠ¥ êµ¬í˜„
6. í…ŒìŠ¤íŠ¸ ë° ë°°í¬

**ì˜ˆìƒ ê°œë°œ ê¸°ê°„**: 2-4ì£¼ (1ëª… í’€íƒ€ì„ ê¸°ì¤€)
